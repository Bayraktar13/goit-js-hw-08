{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAgBC,SAASC,cAAc,kBAEzCC,EAAWC,KAAKC,MAAMC,aAAaC,QAAQ,yBAA2B,IAEnD,WAGrB,GAAiB,OAAbJ,EAGJ,IAAK,IAAMK,KAAQL,EACJ,UAATK,GAA6B,YAATA,IACtBR,EAAcS,SAASD,GAAME,MAAQP,EAASK,G,CAMpDG,GAEA,IAAMC,GAAoB,EAAAd,EAAAe,WAAS,SAAAC,GACjC,IAAMC,EAAaD,EAAXC,OACFC,EAAYD,EAAOE,KACnBC,EAAaH,EAAOL,MAC1BP,EAASa,GAAaE,EACtBZ,aAAaa,QAAQ,sBAAuBf,KAAKgB,UAAUjB,G,GAC1D,KAYHH,EAAcqB,iBAAiB,QAAST,GACxCZ,EAAcqB,iBAAiB,UAXV,SAAAP,GACnBA,EAAMQ,iBACNC,QAAQC,IAAIrB,GACZG,aAAamB,WAAW,uBACxBzB,EAAc0B,QACdvB,EAAW,E","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst contactFormEl = document.querySelector('.feedback-form');\n\nlet userData = JSON.parse(localStorage.getItem('feedback-form-state')) || {};\n\nconst fillFormFields = () => {\n  //   console.dir(contactFormEl.elements);\n  //     console.dir(dataFromLS);\n  if (userData === null) {\n    return;\n  }\n  for (const prop in userData) {\n    if (prop === 'email' || prop === 'message') {\n      contactFormEl.elements[prop].value = userData[prop];\n      //   Перебираем полученный распарсенный JSON массив из функции onFormFieldChange (данные, которые ввел пользователь. А так как elements (ключи) contactFormEl совпадают с ключами dataFromLS, присваиваем значение (value) этих ключей через [prop].value)\n    }\n  }\n};\n\nfillFormFields();\n\nconst onFormFieldChange = throttle(event => {\n  const { target } = event;\n  const fieldName = target.name;\n  const fieldValue = target.value;\n  userData[fieldName] = fieldValue;\n  localStorage.setItem('feedback-form-state', JSON.stringify(userData));\n}, 500);\n\nconst onFormSubmit = event => {\n  event.preventDefault();\n  console.log(userData);\n  localStorage.removeItem('feedback-form-state');\n  contactFormEl.reset();\n  userData = {};\n};\n\n// console.log(submittedData);\n\ncontactFormEl.addEventListener('input', onFormFieldChange);\ncontactFormEl.addEventListener('submit', onFormSubmit);\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$contactFormEl","document","querySelector","$b00c40859be242c5$var$userData","JSON","parse","localStorage","getItem","prop","elements","value","$b00c40859be242c5$var$fillFormFields","$b00c40859be242c5$var$onFormFieldChange","throttle","event","target","fieldName","name","fieldValue","setItem","stringify","addEventListener","preventDefault","console","log","removeItem","reset"],"version":3,"file":"03-feedback.7f347d2a.js.map"}