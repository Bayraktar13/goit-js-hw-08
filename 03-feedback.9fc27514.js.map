{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAgBC,SAASC,cAAc,kBAE7C,IAAIC,EAAWC,KAAKC,MAAMC,aAAaC,QAAQ,yBAA2B,GAEnD,MAGrB,GAAiB,OAAbJ,EAGJ,IAAK,MAAMK,KAAQL,EACJ,UAATK,GAA6B,YAATA,IACtBR,EAAcS,SAASD,GAAME,MAAQP,EAASK,GAAK,EAMzDG,GAEA,MAAMC,GAAoB,EAAAd,EAAAe,WAASC,IACjC,MAAMC,OAAEA,GAAWD,EACbE,EAAYD,EAAOE,KACnBC,EAAaH,EAAOL,MAC1BP,EAASa,GAAaE,EACtBZ,aAAaa,QAAQ,sBAAuBf,KAAKgB,UAAUjB,GAAU,GACpE,KAYHH,EAAcqB,iBAAiB,QAAST,GACxCZ,EAAcqB,iBAAiB,UAXVP,IACnBA,EAAMQ,iBACNC,QAAQC,IAAIrB,GACZG,aAAamB,WAAW,uBACxBzB,EAAc0B,QACdvB,EAAW,EAAE","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst contactFormEl = document.querySelector('.feedback-form');\n\nlet userData = JSON.parse(localStorage.getItem('feedback-form-state')) || {};\n\nconst fillFormFields = () => {\n  //   console.dir(contactFormEl.elements);\n  //     console.dir(dataFromLS);\n  if (userData === null) {\n    return;\n  }\n  for (const prop in userData) {\n    if (prop === 'email' || prop === 'message') {\n      contactFormEl.elements[prop].value = userData[prop];\n      //   Перебираем полученный распарсенный JSON массив из функции onFormFieldChange (данные, которые ввел пользователь. А так как elements (ключи) contactFormEl совпадают с ключами dataFromLS, присваиваем значение (value) этих ключей через [prop].value)\n    }\n  }\n};\n\nfillFormFields();\n\nconst onFormFieldChange = throttle(event => {\n  const { target } = event;\n  const fieldName = target.name;\n  const fieldValue = target.value;\n  userData[fieldName] = fieldValue;\n  localStorage.setItem('feedback-form-state', JSON.stringify(userData));\n}, 500);\n\nconst onFormSubmit = event => {\n  event.preventDefault();\n  console.log(userData);\n  localStorage.removeItem('feedback-form-state');\n  contactFormEl.reset();\n  userData = {};\n};\n\n// console.log(submittedData);\n\ncontactFormEl.addEventListener('input', onFormFieldChange);\ncontactFormEl.addEventListener('submit', onFormSubmit);\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$contactFormEl","document","querySelector","$945622fd0f572e60$var$userData","JSON","parse","localStorage","getItem","prop","elements","value","$945622fd0f572e60$var$fillFormFields","$945622fd0f572e60$var$onFormFieldChange","throttle","event","target","fieldName","name","fieldValue","setItem","stringify","addEventListener","preventDefault","console","log","removeItem","reset"],"version":3,"file":"03-feedback.9fc27514.js.map"}